# Repository

This folder contains the documentation for Chipmunk compiler.

# Compiler source code organization

```
chipmunk-tofino
├── chipc                     -- Python source code for Chipmunk that autogenerates and solves a sketch
|                             -- given the computation (.alu) and communication DSLs (.j2), specification (.sk), pipeline width and depth, etc.
|                             -- Also includes alu.g4, the ANTLR grammar for our computation DSL (our .alu files).
│   ├── lib                   -- library files including antlr version 4.7.2 (for parsing DSL programs written in our .alu format)
│   └── templates             -- collection of jinja2 template files corresponds to ALU communication DSL in section 5.1 of final SIGCOMM paper
                              -- Also contains a jinja2 template to convert hole-value assignments from SKETCH to P4 programs for Tofino (tofino_p4.j2)
├── docs                      -- documentation
├── final_paper               -- final SIGCOMM paper
├── example_alus              -- ALU files in our .alu format, corresponding to ALU computation DSL in section 5.1 in final SIGCOMM paper
│   ├── stateful_alus         -- Stateful ALU files
|   |                         -- The ALUs themselves correspond to the stateful ALUs from Table 4 of the Domino paper
|   |                         -- (https://cs.nyu.edu/~anirudh/domino-sigcomm.pdf)
|   |                         -- Also includes an ALU corresponding to the capabilities of the stateful ALU in the Tofino programmable switch.
│   └── stateless_alus        -- Stateless ALU files
|   |                         -- The ALUs themselves correspond to the stateless ALU from Table 4 of the Domino paper along with subsets of this stateless ALU
|   |                         -- (arithmetic operations alone, arithmetic + relational operations, arithmetic + relational + boolean, etc.)
|   |                         -- Also includes an ALU file corresponding to Tofino.
├── example_spec              -- example .sk benchmarks used for testing
|   |                         -- (in practice, these are autogenerated from a Domino program using the domino_to_chipmunk program mentioned below).
└── tests                     -- test code
    └── data                  -- generated .smt, .sk and .dag file used for testing
```

# How to get specification file from Domino program

* Understand Domino language from [here] (http://web.mit.edu/domino/)
* Transform Domino program to .sk file as specification by running the program domino_to_chipmunk by [instruction] (https://github.com/chipmunk-project/domino-compiler)


# How to contribute

* We welcome any and all contributions.
* To contribute, please fork the GitHub repository and open a pull request using GitHub Web UI.
* Please try to ensure that it passes as many regression tests as possible.
